<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./main.js"></script>
    <link rel='stylesheet' href='/style.css' />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/darkly/bootstrap.min.css">
  
    <title>Mini Message Board</title>

  </head>
  <body>
    <h1>Mini Message Board</h1>
    <p>Welcome to Messaging World</p>

    <a href="./form.html" class="btn btn-danger">Add a new message!</a><br /><br />

    <div class="display"></div>
    <table class="table table-hover">
      <!-- <tr class="table-dark">
        <th class="text-success" style="width: 10%" scope="row">Praveen</th>
        <td>
          <p>Hello, How are You!!</p>
          <small class="text-muted">Submitted on: </small>
        </td> -->
        <tbody id="list">
             
        </tbody>
      <!-- </tr>    -->
      <!-- <tbody id="list">
             
      </tbody>   -->
    </table>
  </div>

    <!-- <div class="display">
      <table>
          <thead>
              <th>Name</th>
              <th>Message</th>
          </thead>
          <tbody id="list">
             
          </tbody>

      </table>
  </div> -->

    <script>
  fetch(
         `http://127.0.0.1:3000/text`

            ).then(res=>{return res.json()}).then(data=>display(data));
   function display(data) {
       document.getElementById("list").innerHTML="";
  
for(let i=0;i<data.length;i++)
{
const row = document.createElement('tr');
row.innerHTML = `<th class="text-success" style="width: 10%" scope="row"> ${data[i].name} </td> 
                  <td>
                    <p> 
                      ${data[i].message} 
                    <p>
                    <small class="text-muted">
                      Submitted on: ${data[i].date}
                    </small>
                  </td>`;
    
    document.getElementById("list").appendChild(row);
}  
}     

    </script>
  </body>
</html>
